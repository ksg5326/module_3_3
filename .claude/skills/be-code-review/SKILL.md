---
name: be-code-review
description: 백엔드 API 코드 테스트 및 검증을 수행한다.
---

# BE Code Review & Test Skill 사용법

## 백엔드 테스트 순서

### Step 1. API 라우트 구조 확인
- `src/app/api/` 디렉토리 내 모든 route.ts 파일 탐색
- 각 엔드포인트의 HTTP 메서드 확인 (GET, POST, PUT, DELETE, PATCH)
- 라우트 경로 및 파라미터 구조 파악

### Step 2. API 엔드포인트별 검증 항목

#### 2.1 요청(Request) 검증
- [ ] 요청 데이터 파싱 방식 (JSON body, Query params, Path params)
- [ ] 입력 데이터 유효성 검사 (validation) 여부
- [ ] 필수/선택 파라미터 처리
- [ ] 데이터 타입 체크

#### 2.2 응답(Response) 검증
- [ ] `NextResponse.json()` 사용 여부
- [ ] HTTP 상태 코드 적절성 (200, 201, 400, 404, 500 등)
- [ ] 응답 데이터 구조 일관성
- [ ] 에러 응답 포맷 통일성

#### 2.3 에러 핸들링
- [ ] try-catch 블록 사용 여부
- [ ] 적절한 에러 메시지 반환
- [ ] 에러 로깅 구현
- [ ] 예상치 못한 에러에 대한 fallback 처리

### Step 3. 비즈니스 로직 검증
- [ ] 데이터 처리 로직의 정확성
- [ ] 데이터베이스 쿼리 효율성
- [ ] 트랜잭션 처리 여부
- [ ] 중복 코드 확인 및 리팩토링 제안

### Step 4. 보안 검증
- [ ] 인증(Authentication) 체크
- [ ] 인가(Authorization) 검증
- [ ] SQL Injection 방어
- [ ] XSS 방어
- [ ] CSRF 방어 (필요시)
- [ ] Rate limiting 구현 여부
- [ ] 민감 데이터 노출 여부

### Step 5. 성능 및 최적화
- [ ] 불필요한 데이터베이스 쿼리 확인
- [ ] N+1 쿼리 문제 체크
- [ ] 캐싱 전략 적용 여부
- [ ] 대용량 데이터 처리 방식

### Step 6. 코드 품질
- [ ] TypeScript 타입 안전성
- [ ] 코딩 컨벤션 준수
- [ ] 주석 및 문서화
- [ ] 테스트 코드 존재 여부

## 테스트 결과 리포트 형식

```markdown
## BE Code Review 결과

### 검토 대상
- 엔드포인트: [경로]
- HTTP 메서드: [GET/POST/PUT/DELETE]
- 파일 경로: [파일명]

### 검증 결과
✅ **통과 항목**
- [항목 1]
- [항목 2]

⚠️ **개선 필요 항목**
- [항목 1]: [상세 설명]
- [항목 2]: [상세 설명]

❌ **문제 항목**
- [항목 1]: [상세 설명 및 해결 방안]
- [항목 2]: [상세 설명 및 해결 방안]

### 종합 평가
[전반적인 코드 품질 평가 및 권장사항]
```

## 주의사항
- 실제 HTTP 요청을 보내지 않고 코드 정적 분석만 수행
- 민감한 정보(API 키, 비밀번호 등)는 노출하지 않음
- 개선 제안 시 구체적인 코드 예시 제공
